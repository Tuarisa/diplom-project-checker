# HTML Validation

Модуль для проверки HTML-файлов на соответствие требованиям. Расположен в `utils/validate/html.js`.

## Типы проверок

### 1. W3C Валидация
- Проверка через официальный W3C валидатор
- Валидация синтаксиса HTML5
- Проверка корректности вложенности
- Валидация атрибутов
Подробнее в [W3C валидации](w3c.md)

### 2. Базовая структура
- Наличие DOCTYPE HTML5
- Наличие тега `<html>`
- Наличие атрибута `lang` у `<html>`
- Наличие `<head>` и `<body>`
- Корректная вложенность элементов

### 3. Метатеги
- Наличие `<meta charset="utf-8">`
- Наличие `<meta name="viewport" content="width=device-width, initial-scale=1.0">`
- Наличие `<title>`
- Корректный порядок метатегов
- Наличие description и keywords

### 4. Семантика
- Только один `<h1>` на странице
- Правильная иерархия заголовков (без пропусков уровней)
- Использование семантических тегов:
  - `<header>`
  - `<main>`
  - `<footer>`
  - `<nav>`
  - `<article>`
  - `<section>`
  - `<aside>`
- Правильное использование списков (`<ul>`, `<ol>`, `<dl>`)
- Корректное использование `<div>` и `<span>`

### 5. Доступность
- Наличие ARIA-атрибутов где необходимо
- Наличие `alt` у всех `<img>`
- Корректные `aria-label` для интерактивных элементов
- Правильные роли для кастомных элементов
- Корректный контраст текста
- Правильный порядок фокуса
- Доступная навигация с клавиатуры

### 6. Формы
- Наличие `<label>` для всех полей ввода
- Корректные атрибуты `type` у `<input>`
- Наличие атрибутов `name`
- Корректные атрибуты валидации
- Связь `<label>` с полями через `for`
- Группировка полей через `<fieldset>` и `<legend>`

### 7. Ссылки и кнопки
- Наличие атрибута `href` у всех `<a>`
- Отсутствие пустых `href="#"`
- Корректное использование `target="_blank"`
- Различие между `<a>` и `<button>`
- Наличие `type` у `<button>`
- Корректные значения href (не javascript:void(0))

### 8. Изображения
- Корректные пути к файлам
- Обязательное наличие WebP формата
- Наличие фолбэков для WebP
- Корректное использование SVG-спрайта
- Правильные размеры изображений
- Оптимизация изображений

### 9. BEM Валидация
- Проверка корректности BEM-нотации
- Валидация структуры классов
- Проверка вложенности элементов
Подробнее в [BEM валидации](bem.md)

### 10. Стили и скрипты
- Корректное подключение стилей в `<head>`
- Правильные пути к минифицированным файлам
- Наличие `defer` для скриптов
- Корректный порядок подключения файлов

## Примеры ошибок

### Неправильно:
```html
<div class="header">
    <h2>Сайт</h2>
    <div class="nav">
        <a>Ссылка</a>
        <img src="pic.jpg">
        <div class="menuItem">Пункт меню</div>
    </div>
</div>
```

### Правильно:
```html
<header class="header">
    <h1>Сайт</h1>
    <nav class="nav">
        <a href="/page">Ссылка</a>
        <img src="pic.webp" alt="Описание" srcset="pic.jpg">
        <div class="menu__item">Пункт меню</div>
    </nav>
</header>
```

## Использование

### Полная валидация HTML
```bash
yarn validate:html
```

### Отдельные проверки
```bash
# Только W3C валидация
yarn validate:w3c

# Только BEM валидация
yarn validate:bem
```

## Конфигурация

### Настройка правил (через .env)
```bash
# Максимальная длина строки
MAX_LINE_LENGTH=120

# Максимальная вложенность элементов
MAX_NESTING_LEVEL=6

# Обязательные метатеги (через запятую)
REQUIRED_META_TAGS=viewport,description

# Настройки W3C валидации
W3C_VALIDATION_ENABLED=true
W3C_VALIDATION_SHOW_WARNINGS=true
```

## Особенности
- Проверка всех HTML-файлов в корневой директории
- Подробные сообщения об ошибках с указанием строки и столбца
- Предложения по исправлению типичных ошибок
- Интеграция с W3C валидатором
- Проверка BEM методологии
- Учет особенностей различных браузеров
- Единый формат логирования ошибок
- Кэширование результатов валидации 