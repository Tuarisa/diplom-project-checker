# Image Optimization

Модуль для оптимизации изображений дипломного проекта. Расположен в `utils/optimize/images.js`.

## Основные функции

### Оптимизация растровых изображений
- Обрабатывает файлы форматов: JPG, JPEG, PNG
- Для каждого изображения:
  - Ограничивает максимальный размер до 1920x1080 пикселей
  - Сохраняет пропорции при изменении размера
  - Не увеличивает маленькие изображения
  - Конвертирует в формат WebP с качеством 80%
  - Сохраняет в директорию `assets/images/content`

### Создание SVG-спрайта
- Собирает все SVG-иконки из директории `images/icons`
- Создает единый SVG-спрайт:
  - Оптимизирует каждую иконку с помощью SVGO
  - Сохраняет важные атрибуты (`viewBox`, `fill`, `stroke`)
  - Генерирует уникальные ID для каждой иконки (`icon-*`)
  - Не добавляет XML-декларацию и DOCTYPE
- Сохраняет спрайт в `assets/images/icons/sprite.svg`

### Настройки оптимизации
#### WebP
- Качество: 80%
- Максимальное разрешение: 1920x1080
- Режим изменения размера: `inside` (сохраняет пропорции)

#### SVG
- Сохраняет `viewBox`
- Не удаляет `stroke` и `fill`
- Не очищает ID
- Формат спрайта: `symbol`
- Префикс ID: `icon-`

## Использование

```bash
# Оптимизация всех изображений и создание спрайта
yarn optimize:images

# Только создание SVG-спрайта
yarn sprite
```

## Примеры преобразований

### Растровые изображения
До:
```
images/
  └── photo.jpg (2560x1440, 1.2MB)
```
После:
```
assets/images/content/
  └── photo.webp (1920x1080, ~200KB)
```

### SVG-спрайт
До:
```
images/icons/
  ├── menu.svg
  └── close.svg
```
После:
```
assets/images/icons/sprite.svg:
<svg>
    <symbol id="icon-menu" viewBox="0 0 24 24">...</symbol>
    <symbol id="icon-close" viewBox="0 0 24 24">...</symbol>
</svg>
```

## Структура директорий
```
diploma-project/
├── images/
│   ├── icons/          # Исходные SVG-иконки
│   └── *.jpg, *.png    # Исходные изображения
└── assets/
    └── images/
        ├── icons/      # Оптимизированный SVG-спрайт
        └── content/    # Оптимизированные WebP
``` 