# Diploma Project Checker

## Контекст и история

Этот проект представляет собой набор инструментов для валидации и оптимизации дипломного проекта. Изначально инструменты были частью основного репозитория, но были вынесены в отдельный репозиторий для улучшения поддерживаемости и возможности переиспользования.

### Ключевые изменения

1. Вынесение инструментов в отдельный репозиторий
2. Внедрение концепции `WORKING_DIR` через `.env` файл
3. Централизация управления путями через `utils/paths.js`
4. Улучшение обработки ошибок и логирования
5. Добавление поддержки SVG-спрайтов
6. Оптимизация процессов валидации и сборки

## Структура проекта

```
diplom-project-checker/
├── .env                    # Конфигурация путей и директорий
├── utils/                  # Основные утилиты
│   ├── paths.js           # Централизованное управление путями
│   ├── sync.js            # Синхронизация конфигурационных файлов
│   ├── server.js          # Сервер разработки
│   ├── cleanup-repo.js    # Очистка репозитория
│   ├── setup-git-hooks.js # Настройка git-хуков
│   ├── configs/           # Конфигурационные файлы
│   │   ├── .prettierrc
│   │   ├── .stylelintrc.json
│   │   └── normalize.css
│   ├── optimize/          # Инструменты оптимизации
│   │   ├── html.js       # Оптимизация HTML
│   │   ├── styles.js     # Оптимизация стилей
│   │   └── images.js     # Оптимизация изображений и создание SVG-спрайта
│   └── validate/         # Инструменты валидации
│       ├── index.js      # Основной валидатор
│       ├── html.js       # Валидация HTML
│       ├── bem.js        # Валидация БЭМ
│       ├── styles.js     # Валидация стилей
│       ├── images.js     # Валидация изображений
│       └── structure.js  # Валидация структуры проекта
```

## Концепция WORKING_DIR

Проект использует концепцию рабочей директории (`WORKING_DIR`), которая позволяет отделить инструменты валидации от проверяемого проекта. Это реализовано через:

1. `.env` файл с настройками путей:
```env
WORKING_DIR=/path/to/project
ASSETS_DIR=assets
STYLES_DIR=styles
IMAGES_DIR=images
SPRITE_PATH=assets/images/icons/sprite.svg
```

2. Модуль `utils/paths.js` для централизованного управления путями:
- `resolveWorkingPath()` - получение абсолютного пути в рабочей директории
- `resolveAssetsPath()` - пути к ассетам
- `resolveStylesPath()` - пути к стилям
- `resolveImagesPath()` - пути к изображениям
- `ensureDirectoryExists()` - создание директорий при необходимости

## Основные функции

### Валидация

1. HTML валидация:
   - Проверка семантики
   - Проверка доступности
   - Валидация метатегов
   - Проверка корректности путей

2. БЭМ валидация:
   - Проверка именования классов
   - Валидация вложенности
   - Проверка модификаторов

3. Валидация стилей:
   - Проверка соответствия стандартам
   - Валидация цветов
   - Проверка специфичности
   - Сортировка свойств

4. Валидация изображений:
   - Проверка размеров
   - Валидация форматов
   - Проверка оптимизации

5. Валидация структуры:
   - Проверка организации файлов
   - Валидация именования
   - Проверка необходимых директорий

### Оптимизация

1. HTML оптимизация:
   - Минификация
   - Оптимизация путей
   - Создание SVG-спрайтов
   - Очистка атрибутов

2. Оптимизация стилей:
   - Форматирование SCSS
   - Минификация CSS
   - Автопрефиксинг
   - Оптимизация цветов

3. Оптимизация изображений:
   - Создание SVG-спрайтов
   - Оптимизация растровых изображений
   - Конвертация форматов

## Использование

1. Установка:
```bash
git clone [repo-url]
cd diplom-project-checker
yarn install
```

2. Настройка:
- Создать `.env` файл
- Указать путь к проверяемому проекту в `WORKING_DIR`

3. Запуск валидации:
```bash
yarn validate              # Полная валидация
yarn validate:html        # Только HTML
yarn validate:bem         # Только БЭМ
yarn validate:styles      # Только стили
yarn validate:images      # Только изображения
yarn validate:structure   # Только структура
```

4. Запуск оптимизации:
```bash
yarn optimize             # Полная оптимизация
yarn optimize:html       # Только HTML
yarn optimize:styles     # Только стили
yarn optimize:images     # Только изображения
```

5. Разработка:
```bash
yarn start               # Запуск сервера разработки
yarn sass:watch         # Отслеживание изменений SCSS
```

## Особенности реализации

1. Модульная структура:
   - Каждый инструмент независим
   - Легко добавлять новые проверки
   - Простое переиспользование кода

2. Гибкая конфигурация:
   - Все настройки в `.env`
   - Легко адаптировать под разные проекты
   - Возможность переопределения путей

3. Надежная обработка ошибок:
   - Подробное логирование
   - Понятные сообщения об ошибках
   - Защита от некорректных данных

4. Автоматизация:
   - Git-хуки для проверок
   - Автоматическая синхронизация конфигов
   - Автоматическая оптимизация

## Дальнейшее развитие

1. Улучшение производительности:
   - Параллельная обработка
   - Кэширование результатов
   - Оптимизация алгоритмов

2. Расширение функциональности:
   - Новые типы проверок
   - Дополнительные оптимизации
   - Интеграция с CI/CD

3. Улучшение UX:
   - Интерактивные отчеты
   - Визуализация результатов
   - Подробная документация 